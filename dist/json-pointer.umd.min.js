!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():t.JSON.pointer=n()}(this,function(){var t,n,e=function(t,n){function e(){this.constructor=t}for(var u in n)r.call(n,u)&&(t[u]=n[u]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},r={}.hasOwnProperty;return n=function(t){function n(t){var e;e=n.__super__.constructor.call(this,t),this.message=e.message,this.stack=e.stack,this.name=this.constructor.name}return e(n,t),n}(Error),t=function(){function t(n,e,r){switch(arguments.length){case 3:return t.set(n,e,r);case 2:return t.get(n,e);case 1:return t.smartBind({object:n});default:return null}}return t.JsonPointerError=n,t.smartBind=function(n){var e,u,o,s,a,i,l,c,f,p,g;if(c=n.object,p=n.pointer,u=n.fragment,f=n.options,p=null!=u?u:p,o=void 0!==c,a=null!=p,s=null!=f,"string"==typeof p&&(p=this.parse(p)),l=function(t){var n,e,r,u,o,s,a;return null==t&&(t={}),n={},n.hasOwnProp=null!=(e=t.hasOwnProp)?e:f.hasOwnProp,n.getProp=null!=(r=t.getProp)?r:f.getProp,n.setProp=null!=(u=t.setProp)?u:f.setProp,n.getNotFound=null!=(o=t.getNotFound)?o:f.getNotFound,n.setNotFound=null!=(s=t.setNotFound)?s:f.setNotFound,n.delNotFound=null!=(a=t.delNotFound)?a:f.delNotFound,n},e=void 0,o&&a&&s)e=function(n){switch(arguments.length){case 1:return t.set(c,p,n,f);case 0:return t.get(c,p,f);default:return null}},e.set=function(n,e){return c=t.set(c,p,n,l(e))},e.get=function(n){return t.get(c,p,l(n))},e.has=function(n){return t.has(c,p,l(n))},e.del=function(n){return c=t.del(c,p,l(n))};else if(o&&a)e=function(n){switch(arguments.length){case 1:return t.set(c,p,n);case 0:return t.get(c,p);default:return null}},e.set=function(n,e){return c=t.set(c,p,n,e)},e.get=function(n){return t.get(c,p,n)},e.has=function(n){return t.has(c,p,n)},e.del=function(n){return c=t.del(c,p,n)};else if(o&&s)e=function(n,e){switch(arguments.length){case 2:return t.set(c,n,e,f);case 1:return t.get(c,n,f);default:return null}},e.set=function(n,e,r){return c=t.set(c,n,e,l(r))},e.get=function(n,e){return t.get(c,n,l(e))},e.has=function(n,e){return t.has(c,n,l(e))},e.del=function(n,e){return c=t.del(c,n,l(e))};else if(a&&s)e=function(n,e){switch(arguments.length){case 2:return t.set(n,p,e,f);case 1:return t.get(n,p,f);default:return null}},e.set=function(n,e,r){return t.set(n,p,e,l(r))},e.get=function(n,e){return t.get(n,p,l(e))},e.has=function(n,e){return t.has(n,p,l(e))},e.del=function(n,e){return t.del(n,p,l(e))};else if(s)e=function(n,r,u){switch(arguments.length){case 3:return t.set(n,r,u,f);case 2:return t.get(n,r,f);case 1:return e.smartBind({object:n});default:return null}},e.set=function(n,e,r,u){return t.set(n,e,r,l(u))},e.get=function(n,e,r){return t.get(n,e,l(r))},e.has=function(n,e,r){return t.has(n,e,l(r))},e.del=function(n,e,r){return t.del(n,e,l(r))};else if(o)e=function(n,e){switch(arguments.length){case 2:return t.set(c,n,e);case 1:return t.get(c,n);default:return null}},e.set=function(n,e,r){return c=t.set(c,n,e,r)},e.get=function(n,e){return t.get(c,n,e)},e.has=function(n,e){return t.has(c,n,e)},e.del=function(n,e){return c=t.del(c,n,e)};else{if(!a)return this;e=function(n,e){switch(arguments.length){case 2:return t.set(n,p,e);case 1:return t.get(n,p);default:return null}},e.set=function(n,e,r){return t.set(n,p,e,r)},e.get=function(n,e){return t.get(n,p,e)},e.has=function(n,e){return t.has(n,p,e)},e.del=function(n,e){return t.del(n,p,e)}}e.smartBind=function(n){var e;return e={},{}.hasOwnProperty.call(n,"object")?e.object=n.object:o&&(e.object=c),{}.hasOwnProperty.call(n,"pointer")?e.pointer=n.pointer:a&&(e.pointer=p),{}.hasOwnProperty.call(n,"options")?e.options=l(n.options):o&&(e.options=f),t.smartBind(e)},a&&(e.pointer=function(n){return 0===arguments.length?t.compilePointer(p):p=t.parsePointer(n)},e.fragment=function(n){return 0===arguments.length?t.compileFragment(p):p=t.parseFragment(n)}),o&&(e.object=function(t){return 0===arguments.length?c:c=t}),s&&(e.options=function(t){return 0===arguments.length?f:f=t});for(i in t)r.call(t,i)&&(g=t[i],{}.hasOwnProperty.call(e,i)||(e[i]=g));return e},t.escape=function(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")},t.escapeFragment=function(n){return encodeURIComponent(t.escape(n))},t.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")},t.unescapeFragment=function(n){return t.unescape(decodeURIComponent(n))},t.isPointer=function(t){switch(t.charAt(0)){case"":return!0;case"/":return!0;default:return!1}},t.isFragment=function(t){switch(t.substring(0,2)){case"#":return!0;case"#/":return!0;default:return!1}},t.parse=function(e){switch(e.charAt(0)){case"":return[];case"/":return e.substring(1).split("/").map(t.unescape);case"#":switch(e.charAt(1)){case"":return[];case"/":return e.substring(2).split("/").map(t.unescapeFragment);default:throw new n("Invalid JSON fragment pointer: "+e)}break;default:throw new n("Invalid JSON pointer: "+e)}},t.parsePointer=function(e){switch(e.charAt(0)){case"":return[];case"/":return e.substring(1).split("/").map(t.unescape);default:throw new n("Invalid JSON pointer: "+e)}},t.parseFragment=function(e){switch(e.substring(0,2)){case"#":return[];case"#/":return e.substring(2).split("/").map(t.unescapeFragment);default:throw new n("Invalid JSON fragment pointer: "+e)}},t.compile=function(n){return n.map(function(n){return"/"+t.escape(n)}).join("")},t.compilePointer=function(n){return n.map(function(n){return"/"+t.escape(n)}).join("")},t.compileFragment=function(n){return"#"+n.map(function(n){return"/"+t.escapeFragment(n)}).join("")},t.hasJsonProp=function(t,n){return Array.isArray(t)?"number"==typeof n&&n<t.length:"object"==typeof t?{}.hasOwnProperty.call(t,n):!1},t.hasOwnProp=function(t,n){return{}.hasOwnProperty.call(t,n)},t.hasProp=function(t,n){return n in t},t.getProp=function(t,n){return t[n]},t.setProp=function(t,n,e){return t[n]=e},t.getNotFound=function(t,n,e,r,u){return void 0},t.setNotFound=function(t,n,e,r,u){return r[u+1].match(/^(?:0|[1-9]\d*|-)$/)?t[n]=[]:t[n]={}},t.delNotFound=function(t,n,e,r,u){return void 0},t.errorNotFound=function(e,r,u,o,s){throw new n("Unable to find json path: "+t.compile(o.slice(0,s+1)))},t.set=function(n,e,r,u){var o,s,a,i,l,c,f,p,g,h,d,m;if("string"==typeof e&&(e=t.parse(e)),0===e.length)return r;for(s=null!=(l=null!=u?u.hasProp:void 0)?l:t.hasJsonProp,o=null!=(c=null!=u?u.getProp:void 0)?c:t.getProp,m=null!=(f=null!=u?u.setProp:void 0)?f:t.setProp,d=null!=(p=null!=u?u.setNotFound:void 0)?p:t.setNotFound,g=n,a=0,i=e.length;a!==i;){if(h=e[a],++a,"-"===h&&Array.isArray(n)?h=n.length:h.match(/^(?:0|[1-9]\d*)$/)&&Array.isArray(n)&&(h=parseInt(h,10)),a===i){m(n,h,r);break}n=s(n,h)?o(n,h):d(n,h,g,e,a-1)}return g},t.get=function(n,e,r){var u,o,s,a,i,l,c,f,p,g;for("string"==typeof e&&(e=t.parse(e)),s=null!=(l=null!=r?r.hasProp:void 0)?l:t.hasJsonProp,o=null!=(c=null!=r?r.getProp:void 0)?c:t.getProp,u=null!=(f=null!=r?r.getNotFound:void 0)?f:t.getNotFound,p=n,a=0,i=e.length;a!==i;){if(g=e[a],++a,"-"===g&&Array.isArray(n)?g=n.length:g.match(/^(?:0|[1-9]\d*)$/)&&Array.isArray(n)&&(g=parseInt(g,10)),!s(n,g))return u(n,g,p,e,a-1);n=o(n,g)}return n},t.del=function(n,e,r){var u,o,s,a,i,l,c,f,p,g;if("string"==typeof e&&(e=t.parse(e)),0===e.length)return void 0;for(s=null!=(l=null!=r?r.hasProp:void 0)?l:t.hasJsonProp,o=null!=(c=null!=r?r.getProp:void 0)?c:t.getProp,u=null!=(f=null!=r?r.delNotFound:void 0)?f:t.delNotFound,p=n,a=0,i=e.length;a!==i;){if(g=e[a],++a,"-"===g&&Array.isArray(n)?g=n.length:g.match(/^(?:0|[1-9]\d*)$/)&&Array.isArray(n)&&(g=parseInt(g,10)),!s(n,g)){u(n,g,p,e,a-1);break}if(a===i){delete n[g];break}n=o(n,g)}return p},t.has=function(n,e,r){var u,o,s,a,i,l,c;for("string"==typeof e&&(e=t.parse(e)),o=null!=(i=null!=r?r.hasProp:void 0)?i:t.hasJsonProp,u=null!=(l=null!=r?r.getProp:void 0)?l:t.getProp,s=0,a=e.length;s!==a;){if(c=e[s],++s,"-"===c&&Array.isArray(n)?c=n.length:c.match(/^(?:0|[1-9]\d*)$/)&&Array.isArray(n)&&(c=parseInt(c,10)),!o(n,c))return!1;n=u(n,c)}return!0},t}()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzb24tcG9pbnRlci51bWQuanMiLCJqc29uLXBvaW50ZXIuY29mZmVlIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsIkpTT04iLCJwb2ludGVyIiwidGhpcyIsIkpzb25Qb2ludGVyIiwiSnNvblBvaW50ZXJFcnJvciIsImV4dGVuZCIsImNoaWxkIiwicGFyZW50IiwiY3RvciIsImNvbnN0cnVjdG9yIiwia2V5IiwiaGFzUHJvcDEiLCJjYWxsIiwicHJvdG90eXBlIiwiX19zdXBlcl9fIiwiaGFzT3duUHJvcGVydHkiLCJzdXBlckNsYXNzIiwibWVzc2FnZSIsImJhc2UiLCJzdGFjayIsIm5hbWUiLCJFcnJvciIsIm9iamVjdCIsInZhbHVlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic2V0IiwiZ2V0Iiwic21hcnRCaW5kIiwiYXJnIiwiYXBpIiwiZnJhZyIsImhhc09iaiIsImhhc09wdCIsImhhc1B0ciIsIm1lcmdlT3B0aW9ucyIsIm9iaiIsIm9wdCIsInB0ciIsInZhbCIsImZyYWdtZW50Iiwib3B0aW9ucyIsInBhcnNlIiwib3ZlcnJpZGUiLCJvIiwicmVmIiwicmVmMSIsInJlZjIiLCJyZWYzIiwicmVmNCIsInJlZjUiLCJoYXNPd25Qcm9wIiwiZ2V0UHJvcCIsInNldFByb3AiLCJnZXROb3RGb3VuZCIsInNldE5vdEZvdW5kIiwiZGVsTm90Rm91bmQiLCJoYXMiLCJkZWwiLCJjb21waWxlUG9pbnRlciIsInBhcnNlUG9pbnRlciIsImNvbXBpbGVGcmFnbWVudCIsInBhcnNlRnJhZ21lbnQiLCJlc2NhcGUiLCJzZWdtZW50IiwicmVwbGFjZSIsImVzY2FwZUZyYWdtZW50IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidW5lc2NhcGUiLCJ1bmVzY2FwZUZyYWdtZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaXNQb2ludGVyIiwic3RyIiwiY2hhckF0IiwiaXNGcmFnbWVudCIsInN1YnN0cmluZyIsInNwbGl0IiwibWFwIiwiY29tcGlsZSIsInNlZ21lbnRzIiwiam9pbiIsImhhc0pzb25Qcm9wIiwiQXJyYXkiLCJpc0FycmF5IiwiaGFzUHJvcCIsImlTZWdtZW50IiwibWF0Y2giLCJlcnJvck5vdEZvdW5kIiwic2xpY2UiLCJsZW4iLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6IkNBQUUsU0FBU0EsRUFBTUMsR0FDTyxrQkFBWEMsU0FBeUJBLE9BQU9DLElBQ3pDRCxVQUFXRCxHQUNpQixnQkFBWkcsU0FDaEJDLE9BQU9ELFFBQVVILElBRWpCRCxFQUFLTSxLQUFLQyxRQUFVTixLQUV0Qk8sS0FBTSxXQUNSLEdBQUlDLEdDVEpDLEVBQUFDLEVBQUEsU0FBQUMsRUFBQUMsR0FBQSxRQUFBQyxLQUFBTixLQUFBTyxZQUFBSCxFQUFBLElBQUEsR0FBQUksS0FBQUgsR0FBQUksRUFBQUMsS0FBQUwsRUFBQUcsS0FBQUosRUFBQUksR0FBQUgsRUFBQUcsR0FBQSxPQUFBRixHQUFBSyxVQUFBTixFQUFBTSxVQUFBUCxFQUFBTyxVQUFBLEdBQUFMLEdBQUFGLEVBQUFRLFVBQUFQLEVBQUFNLFVBQUFQLEdEV0VLLEtBQWNJLGNBaTdCaEIsT0M1N0JNWCxHQUFBLFNBQUFZLEdBQ1MsUUFBQVosR0FBQ2EsR0FDWixHQUFBQyxFQUFBQSxHQUFPZCxFQUFBVSxVQUFBTCxZQUFBRyxLQUFBVixLQUFNZSxHQUViZixLQUFDZSxRQUFVQyxFQUFLRCxRQUNoQmYsS0FBQ2lCLE1BQVFELEVBQUtDLE1BQ2RqQixLQUFDa0IsS0FBT2xCLEtBQUNPLFlBQVlXLEtEa0J2QixNQVZBZixHQUFPRCxFQUFrQlksR0FVbEJaLEdDeEJzQmlCLE9BUXpCbEIsRUFBQSxXQVdTLFFBQUFBLEdBQUNtQixFQUFRckIsRUFBU3NCLEdBQ3RCLE9BQU9DLFVBQVVDLFFBQWpCLElBQ0EsR0R1QkgsTUN2QlV0QixHQUFZdUIsSUFBSUosRUFBUXJCLEVBQVNzQixFQUR4QyxLQUVBLEdEd0JILE1DeEJVcEIsR0FBWXdCLElBQUlMLEVBQVFy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RUFBQVcsUUFBQSxRQUFBTixFQUE2QjNDLEVBQVlpRCxRQUV6Q2lDLEVBQVcsRUFDWEksRUFBTXhGLEVBQVF3QixPQUNSNEQsSUFBWUksR0FBbEIsQ0FTRSxHQVJBekIsRUFBVS9ELEVBQVFvRixLQUNoQkEsRUFFWSxNQUFYckIsR0FBbUJrQixNQUFNQyxRQUFRL0MsR0FDbEM0QixFQUFVNUIsRUFBSVgsT0FDUnVDLEVBQVFzQixNQUFNLHFCQUF3QkosTUFBTUMsUUFBUS9DLEtBQzFENEIsRUFBVTBCLFNBQVMxQixFQUFTLE1BRXZCb0IsRUFBUWhELEVBQUs0QixHQUNsQixPQUFPLENBRVQ1QixHQUFNZ0IsRUFBUWhCLEVBQUs0QixHQUVyQixPQUFPLEdEME9GN0QiLCJmaWxlIjoianNvbi1wb2ludGVyLnVtZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsImNsYXNzIEpzb25Qb2ludGVyRXJyb3IgZXh0ZW5kcyBFcnJvclxyXG4gIGNvbnN0cnVjdG9yOiAobWVzc2FnZSkgLT5cclxuICAgIGJhc2UgPSBzdXBlcihtZXNzYWdlKVxyXG5cclxuICAgIEBtZXNzYWdlID0gYmFzZS5tZXNzYWdlXHJcbiAgICBAc3RhY2sgPSBiYXNlLnN0YWNrXHJcbiAgICBAbmFtZSA9IEBjb25zdHJ1Y3Rvci5uYW1lXHJcblxyXG5jbGFzcyBKc29uUG9pbnRlclxyXG4gIEBKc29uUG9pbnRlckVycm9yOiBKc29uUG9pbnRlckVycm9yXHJcblxyXG4gICMjI1xyXG4gICMgQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIGNob29zaW5nIGJldHdlZW4gYC5zbWFydEJpbmRgLCBgLmdldGAsIGFuZCBgLnNldGAsIGRlcGVuZGluZyBvbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cy5cclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9iamVjdFxyXG4gICMgQHBhcmFtIHtzdHJpbmd9IHBvaW50ZXJcclxuICAjIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAjIEByZXR1cm5zIHsqfSBldmFsdWF0aW9uIG9mIHRoZSBwcm94aWVkIG1ldGhvZFxyXG4gICMjI1xyXG4gIGNvbnN0cnVjdG9yOiAob2JqZWN0LCBwb2ludGVyLCB2YWx1ZSkgLT5cclxuICAgIHJldHVybiBzd2l0Y2ggYXJndW1lbnRzLmxlbmd0aFxyXG4gICAgICB3aGVuIDMgdGhlbiBKc29uUG9pbnRlci5zZXQob2JqZWN0LCBwb2ludGVyLCB2YWx1ZSlcclxuICAgICAgd2hlbiAyIHRoZW4gSnNvblBvaW50ZXIuZ2V0KG9iamVjdCwgcG9pbnRlcilcclxuICAgICAgd2hlbiAxIHRoZW4gSnNvblBvaW50ZXIuc21hcnRCaW5kKHsgb2JqZWN0OiBvYmplY3QgfSlcclxuICAgICAgZWxzZSBudWxsXHJcblxyXG4gICMjI1xyXG4gICMgQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBhcGksIHdpdGggYC4vLmdldC8uaGFzLy5zZXQvLmRlbC8uc21hcnRCaW5kYCBtZXRob2Qgc2lnbmF0dXJlcyBhZGp1c3RlZC5cclxuICAjIFRoZSBzbWFydEJpbmQgbWV0aG9kIGlzIGN1bXVsYXRpdmUsIG1lYW5pbmcgdGhhdCBgLnNtYXJ0QmluZCh7IG9iamVjdDogeH0pLnNtYXJ0QmluZCh7IHBvaW50ZXI6IHkgfSlgIHdpbGwgYmVoYXZlIGFzIGV4cGVjdGVkLlxyXG4gICNcclxuICAjIEBwYXJhbSB7T2JqZWN0fSBiaW5kaW5nc1xyXG4gICMgQHBhcmFtIHsqfSBiaW5kaW5ncy5vYmplY3RcclxuICAjIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBiaW5kaW5ncy5wb2ludGVyXHJcbiAgIyBAcGFyYW0ge09iamVjdH0gYmluZGluZ3Mub3B0aW9uc1xyXG4gICMgQHJldHVybnMge0pzb25Qb2ludGVyfVxyXG4gICMjI1xyXG4gIEBzbWFydEJpbmQ6ICh7IG9iamVjdDogb2JqLCBwb2ludGVyOiBwdHIsIGZyYWdtZW50OiBmcmFnLCBvcHRpb25zOiBvcHQgfSkgLT5cclxuICAgICMgZnJhZ21lbnQgb3ZlcnJpZGVzIHBvaW50ZXJcclxuICAgIHB0ciA9IGZyYWcgPyBwdHJcclxuXHJcbiAgICAjIFdoYXQgYXJlIGJpbmRpbmc/XHJcbiAgICBoYXNPYmogPSBvYmogIT0gdW5kZWZpbmVkXHJcbiAgICBoYXNQdHIgPSBwdHI/XHJcbiAgICBoYXNPcHQgPSBvcHQ/XHJcblxyXG4gICAgIyBMZXRzIG5vdCBwYXJzZSB0aGlzIGV2ZXJ5IHRpbWUhXHJcbiAgICBpZiB0eXBlb2YgcHRyID09ICdzdHJpbmcnXHJcbiAgICAgIHB0ciA9IEBwYXJzZShwdHIpXHJcblxyXG4gICAgIyBkZWZhdWx0IG9wdGlvbnMgaGF2ZSBjaGFuZ2VkXHJcbiAgICBtZXJnZU9wdGlvbnMgPSAob3ZlcnJpZGUgPSB7fSkgLT5cclxuICAgICAgbyA9IHt9XHJcblxyXG4gICAgICBvLmhhc093blByb3AgPSBvdmVycmlkZS5oYXNPd25Qcm9wID8gb3B0Lmhhc093blByb3BcclxuICAgICAgby5nZXRQcm9wID0gb3ZlcnJpZGUuZ2V0UHJvcCA/IG9wdC5nZXRQcm9wXHJcbiAgICAgIG8uc2V0UHJvcCA9IG92ZXJyaWRlLnNldFByb3AgPyBvcHQuc2V0UHJvcFxyXG4gICAgICBvLmdldE5vdEZvdW5kID0gb3ZlcnJpZGUuZ2V0Tm90Rm91bmQgPyBvcHQuZ2V0Tm90Rm91bmRcclxuICAgICAgby5zZXROb3RGb3VuZCA9IG92ZXJyaWRlLnNldE5vdEZvdW5kID8gb3B0LnNldE5vdEZvdW5kXHJcbiAgICAgIG8uZGVsTm90Rm91bmQgPSBvdmVycmlkZS5kZWxOb3RGb3VuZCA/IG9wdC5kZWxOb3RGb3VuZFxyXG5cclxuICAgICAgcmV0dXJuIG9cclxuXHJcbiAgICBhcGkgPSB1bmRlZmluZWRcclxuXHJcbiAgICAjIEV2ZXJ5IGNvbWJpbmF0aW9uIG9mIGJpbmRpbmdzXHJcbiAgICBpZiBoYXNPYmogYW5kIGhhc1B0ciBhbmQgaGFzT3B0XHJcbiAgICAgIGFwaSA9ICh2YWx1ZSkgLT5cclxuICAgICAgICByZXR1cm4gc3dpdGNoIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgIHdoZW4gMSB0aGVuIEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUsIG9wdClcclxuICAgICAgICAgIHdoZW4gMCB0aGVuIEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgb3B0KVxyXG4gICAgICAgICAgZWxzZSBudWxsXHJcblxyXG4gICAgICBhcGkuc2V0ID0gKHZhbHVlLCBvdmVycmlkZSkgLT4gb2JqID0gSnNvblBvaW50ZXIuc2V0KG9iaiwgcHRyLCB2YWx1ZSwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgICAgYXBpLmdldCA9IChvdmVycmlkZSkgLT4gSnNvblBvaW50ZXIuZ2V0KG9iaiwgcHRyLCBtZXJnZU9wdGlvbnMob3ZlcnJpZGUpKVxyXG4gICAgICBhcGkuaGFzID0gKG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5oYXMob2JqLCBwdHIsIG1lcmdlT3B0aW9ucyhvdmVycmlkZSkpXHJcbiAgICAgIGFwaS5kZWwgPSAob3ZlcnJpZGUpIC0+IG9iaiA9IEpzb25Qb2ludGVyLmRlbChvYmosIHB0ciwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgIGVsc2UgaWYgaGFzT2JqIGFuZCBoYXNQdHJcclxuICAgICAgYXBpID0gKHZhbHVlKSAtPlxyXG4gICAgICAgIHJldHVybiBzd2l0Y2ggYXJndW1lbnRzLmxlbmd0aFxyXG4gICAgICAgICAgd2hlbiAxIHRoZW4gSnNvblBvaW50ZXIuc2V0KG9iaiwgcHRyLCB2YWx1ZSlcclxuICAgICAgICAgIHdoZW4gMCB0aGVuIEpzb25Qb2ludGVyLmdldChvYmosIHB0cilcclxuICAgICAgICAgIGVsc2UgbnVsbFxyXG5cclxuICAgICAgYXBpLnNldCA9ICh2YWx1ZSwgb3ZlcnJpZGUpIC0+IG9iaiA9IEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUsIG92ZXJyaWRlKVxyXG4gICAgICBhcGkuZ2V0ID0gKG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5nZXQob2JqLCBwdHIsIG92ZXJyaWRlKVxyXG4gICAgICBhcGkuaGFzID0gKG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5oYXMob2JqLCBwdHIsIG92ZXJyaWRlKVxyXG4gICAgICBhcGkuZGVsID0gKG92ZXJyaWRlKSAtPiBvYmogPSBKc29uUG9pbnRlci5kZWwob2JqLCBwdHIsIG92ZXJyaWRlKVxyXG4gICAgZWxzZSBpZiBoYXNPYmogYW5kIGhhc09wdFxyXG4gICAgICBhcGkgPSAocHRyLCB2YWx1ZSkgLT5cclxuICAgICAgICByZXR1cm4gc3dpdGNoIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgIHdoZW4gMiB0aGVuIEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUsIG9wdClcclxuICAgICAgICAgIHdoZW4gMSB0aGVuIEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgb3B0KVxyXG4gICAgICAgICAgZWxzZSBudWxsXHJcblxyXG4gICAgICBhcGkuc2V0ID0gKHB0ciwgdmFsdWUsIG92ZXJyaWRlKSAtPiBvYmogPSBKc29uUG9pbnRlci5zZXQob2JqLCBwdHIsIHZhbHVlLCBtZXJnZU9wdGlvbnMob3ZlcnJpZGUpKVxyXG4gICAgICBhcGkuZ2V0ID0gKHB0ciwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgICAgYXBpLmhhcyA9IChwdHIsIG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5oYXMob2JqLCBwdHIsIG1lcmdlT3B0aW9ucyhvdmVycmlkZSkpXHJcbiAgICAgIGFwaS5kZWwgPSAocHRyLCBvdmVycmlkZSkgLT4gb2JqID0gSnNvblBvaW50ZXIuZGVsKG9iaiwgcHRyLCBtZXJnZU9wdGlvbnMob3ZlcnJpZGUpKVxyXG4gICAgZWxzZSBpZiBoYXNQdHIgYW5kIGhhc09wdFxyXG4gICAgICBhcGkgPSAob2JqLCB2YWx1ZSkgLT5cclxuICAgICAgICByZXR1cm4gc3dpdGNoIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgIHdoZW4gMiB0aGVuIEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUsIG9wdClcclxuICAgICAgICAgIHdoZW4gMSB0aGVuIEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgb3B0KVxyXG4gICAgICAgICAgZWxzZSBudWxsXHJcblxyXG4gICAgICBhcGkuc2V0ID0gKG9iaiwgdmFsdWUsIG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5zZXQob2JqLCBwdHIsIHZhbHVlLCBtZXJnZU9wdGlvbnMob3ZlcnJpZGUpKVxyXG4gICAgICBhcGkuZ2V0ID0gKG9iaiwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgICAgYXBpLmhhcyA9IChvYmosIG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5oYXMob2JqLCBwdHIsIG1lcmdlT3B0aW9ucyhvdmVycmlkZSkpXHJcbiAgICAgIGFwaS5kZWwgPSAob2JqLCBvdmVycmlkZSkgLT4gSnNvblBvaW50ZXIuZGVsKG9iaiwgcHRyLCBtZXJnZU9wdGlvbnMob3ZlcnJpZGUpKVxyXG4gICAgZWxzZSBpZiBoYXNPcHRcclxuICAgICAgYXBpID0gKG9iaiwgcHRyLCB2YWx1ZSkgLT5cclxuICAgICAgICByZXR1cm4gc3dpdGNoIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgIHdoZW4gMyB0aGVuIEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUsIG9wdClcclxuICAgICAgICAgIHdoZW4gMiB0aGVuIEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgb3B0KVxyXG4gICAgICAgICAgd2hlbiAxIHRoZW4gYXBpLnNtYXJ0QmluZCh7IG9iamVjdDogb2JqIH0pXHJcbiAgICAgICAgICBlbHNlIG51bGxcclxuXHJcbiAgICAgIGFwaS5zZXQgPSAob2JqLCBwdHIsIHZhbHVlLCBvdmVycmlkZSkgLT4gSnNvblBvaW50ZXIuc2V0KG9iaiwgcHRyLCB2YWx1ZSwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgICAgYXBpLmdldCA9IChvYmosIHB0ciwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgICAgYXBpLmhhcyA9IChvYmosIHB0ciwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLmhhcyhvYmosIHB0ciwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgICAgYXBpLmRlbCA9IChvYmosIHB0ciwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLmRlbChvYmosIHB0ciwgbWVyZ2VPcHRpb25zKG92ZXJyaWRlKSlcclxuICAgIGVsc2UgaWYgaGFzT2JqXHJcbiAgICAgIGFwaSA9IChwdHIsIHZhbHVlKSAtPlxyXG4gICAgICAgIHJldHVybiBzd2l0Y2ggYXJndW1lbnRzLmxlbmd0aFxyXG4gICAgICAgICAgd2hlbiAyIHRoZW4gSnNvblBvaW50ZXIuc2V0KG9iaiwgcHRyLCB2YWx1ZSlcclxuICAgICAgICAgIHdoZW4gMSB0aGVuIEpzb25Qb2ludGVyLmdldChvYmosIHB0cilcclxuICAgICAgICAgIGVsc2UgbnVsbFxyXG5cclxuICAgICAgYXBpLnNldCA9IChwdHIsIHZhbHVlLCBvdmVycmlkZSkgLT4gb2JqID0gSnNvblBvaW50ZXIuc2V0KG9iaiwgcHRyLCB2YWx1ZSwgb3ZlcnJpZGUpXHJcbiAgICAgIGFwaS5nZXQgPSAocHRyLCBvdmVycmlkZSkgLT4gSnNvblBvaW50ZXIuZ2V0KG9iaiwgcHRyLCBvdmVycmlkZSlcclxuICAgICAgYXBpLmhhcyA9IChwdHIsIG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5oYXMob2JqLCBwdHIsIG92ZXJyaWRlKVxyXG4gICAgICBhcGkuZGVsID0gKHB0ciwgb3ZlcnJpZGUpIC0+IG9iaiA9IEpzb25Qb2ludGVyLmRlbChvYmosIHB0ciwgb3ZlcnJpZGUpXHJcbiAgICBlbHNlIGlmIGhhc1B0clxyXG4gICAgICBhcGkgPSAob2JqLCB2YWx1ZSkgLT5cclxuICAgICAgICByZXR1cm4gc3dpdGNoIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgIHdoZW4gMiB0aGVuIEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUpXHJcbiAgICAgICAgICB3aGVuIDEgdGhlbiBKc29uUG9pbnRlci5nZXQob2JqLCBwdHIpXHJcbiAgICAgICAgICBlbHNlIG51bGxcclxuXHJcbiAgICAgIGFwaS5zZXQgPSAob2JqLCB2YWx1ZSwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLnNldChvYmosIHB0ciwgdmFsdWUsIG92ZXJyaWRlKVxyXG4gICAgICBhcGkuZ2V0ID0gKG9iaiwgb3ZlcnJpZGUpIC0+IEpzb25Qb2ludGVyLmdldChvYmosIHB0ciwgb3ZlcnJpZGUpXHJcbiAgICAgIGFwaS5oYXMgPSAob2JqLCBvdmVycmlkZSkgLT4gSnNvblBvaW50ZXIuaGFzKG9iaiwgcHRyLCBvdmVycmlkZSlcclxuICAgICAgYXBpLmRlbCA9IChvYmosIG92ZXJyaWRlKSAtPiBKc29uUG9pbnRlci5kZWwob2JqLCBwdHIsIG92ZXJyaWRlKVxyXG4gICAgZWxzZVxyXG4gICAgICByZXR1cm4gQFxyXG5cclxuICAgICMgc21hcnRCaW5kIGhhcyBuZXcgZGVmYXVsdHNcclxuICAgIGFwaS5zbWFydEJpbmQgPSAob3ZlcnJpZGUpIC0+XHJcbiAgICAgIG8gPSB7fVxyXG5cclxuICAgICAgaWYge30uaGFzT3duUHJvcGVydHkuY2FsbChvdmVycmlkZSwgJ29iamVjdCcpXHJcbiAgICAgICAgby5vYmplY3QgPSBvdmVycmlkZS5vYmplY3RcclxuICAgICAgZWxzZSBpZiBoYXNPYmpcclxuICAgICAgICBvLm9iamVjdCA9IG9ialxyXG5cclxuICAgICAgaWYge30uaGFzT3duUHJvcGVydHkuY2FsbChvdmVycmlkZSwgJ3BvaW50ZXInKVxyXG4gICAgICAgIG8ucG9pbnRlciA9IG92ZXJyaWRlLnBvaW50ZXJcclxuICAgICAgZWxzZSBpZiBoYXNQdHJcclxuICAgICAgICBvLnBvaW50ZXIgPSBwdHJcclxuXHJcbiAgICAgIGlmIHt9Lmhhc093blByb3BlcnR5LmNhbGwob3ZlcnJpZGUsICdvcHRpb25zJylcclxuICAgICAgICBvLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMob3ZlcnJpZGUub3B0aW9ucylcclxuICAgICAgZWxzZSBpZiBoYXNPYmpcclxuICAgICAgICBvLm9wdGlvbnMgPSBvcHRcclxuXHJcbiAgICAgIHJldHVybiBKc29uUG9pbnRlci5zbWFydEJpbmQobylcclxuXHJcbiAgICBpZiBoYXNQdHJcclxuICAgICAgIyMjXHJcbiAgICAgICMgZ2V0L3NldCBib3VuZCBwb2ludGVyIHZhbHVlXHJcbiAgICAgICNcclxuICAgICAgIyBPbmx5IGF2YWlsYWJsZSB3aGVuIHBvaW50ZXIgaGFzIGJlZW4gYm91bmRcclxuICAgICAgI1xyXG4gICAgICAjIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG4gICAgICAjIEByZXR1cm5zIHN0cmluZ1tdIHNlZ21lbnRzXHJcbiAgICAgICMjI1xyXG4gICAgICBhcGkucG9pbnRlciA9ICh2YWx1ZSkgLT5cclxuICAgICAgICBpZiBhcmd1bWVudHMubGVuZ3RoID09IDBcclxuICAgICAgICAgIHJldHVybiBKc29uUG9pbnRlci5jb21waWxlUG9pbnRlcihwdHIpXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgcmV0dXJuIHB0ciA9IEpzb25Qb2ludGVyLnBhcnNlUG9pbnRlcih2YWx1ZSlcclxuXHJcbiAgICAgICMjI1xyXG4gICAgICAjIGdldC9zZXQgYm91bmQgcG9pbnRlciB2YWx1ZSBhcyBmcmFnbWVudFxyXG4gICAgICAjXHJcbiAgICAgICMgT25seSBhdmFpbGFibGUgd2hlbiBwb2ludGVyIGhhcyBiZWVuIGJvdW5kXHJcbiAgICAgICNcclxuICAgICAgIyBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuICAgICAgIyBAcmV0dXJucyBzdHJpbmdbXSBzZWdtZW50c1xyXG4gICAgICAjIyNcclxuICAgICAgYXBpLmZyYWdtZW50ID0gKHZhbHVlKSAtPlxyXG4gICAgICAgIGlmIGFyZ3VtZW50cy5sZW5ndGggPT0gMFxyXG4gICAgICAgICAgcmV0dXJuIEpzb25Qb2ludGVyLmNvbXBpbGVGcmFnbWVudChwdHIpXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgcmV0dXJuIHB0ciA9IEpzb25Qb2ludGVyLnBhcnNlRnJhZ21lbnQodmFsdWUpXHJcblxyXG4gICAgaWYgaGFzT2JqXHJcbiAgICAgICMjI1xyXG4gICAgICAjIGdldC9zZXQgYm91bmQgb2JqZWN0XHJcbiAgICAgICNcclxuICAgICAgIyBPbmx5IGF2YWlsYWJsZSB3aGVuIG9iamVjdCBoYXMgYmVlbiBib3VuZFxyXG4gICAgICAjXHJcbiAgICAgICMgQHBhcmFtIHsqfSB2YWx1ZVxyXG4gICAgICAjIEByZXR1cm5zIHsqfSBib3VuZCBvYmplY3RcclxuICAgICAgIyMjXHJcbiAgICAgIGFwaS5vYmplY3QgPSAodmFsdWUpIC0+XHJcbiAgICAgICAgaWYgYXJndW1lbnRzLmxlbmd0aCA9PSAwXHJcbiAgICAgICAgICByZXR1cm4gb2JqXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgcmV0dXJuIG9iaiA9IHZhbHVlXHJcblxyXG4gICAgaWYgaGFzT3B0XHJcbiAgICAgICMjI1xyXG4gICAgICAjIGdldC9zZXQgYm91bmQgb3B0aW9uc1xyXG4gICAgICAjXHJcbiAgICAgICMgT25seSBhdmFpbGFibGUgd2hlbiBvcHRpb25zIGhhcyBiZWVuIGJvdW5kXHJcbiAgICAgICNcclxuICAgICAgIyBAcGFyYW0geyp9IHZhbHVlXHJcbiAgICAgICMgQHJldHVybnMgeyp9IGJvdW5kIG9wdGlvbnNcclxuICAgICAgIyMjXHJcbiAgICAgIGFwaS5vcHRpb25zID0gKHZhbHVlKSAtPlxyXG4gICAgICAgIGlmIGFyZ3VtZW50cy5sZW5ndGggPT0gMFxyXG4gICAgICAgICAgcmV0dXJuIG9wdFxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIHJldHVybiBvcHQgPSB2YWx1ZVxyXG5cclxuICAgICMgY29weSB0aGUgcmVtYWluaW5nIG1ldGhvZHMgd2hpY2ggZG8gbm90IG5lZWQgYmluZGluZ1xyXG4gICAgZm9yIG93biBrZXksIHZhbCBvZiBKc29uUG9pbnRlclxyXG4gICAgICBpZiBub3Qge30uaGFzT3duUHJvcGVydHkuY2FsbChhcGksIGtleSlcclxuICAgICAgICBhcGlba2V5XSA9IHZhbFxyXG5cclxuICAgICMgZmluYWwgcmVzdWx0XHJcbiAgICByZXR1cm4gYXBpXHJcblxyXG4gICMjI1xyXG4gICMgRXNjYXBlcyB0aGUgZ2l2ZW4gcGF0aCBzZWdtZW50IGFzIGRlc2NyaWJlZCBieSBSRkM2OTAxLlxyXG4gICNcclxuICAjIE5vdGFibHksIGAnfidgJ3MgYXJlIHJlcGxhY2VkIHdpdGggYCd+MCdgIGFuZCBgJy8nYCdzIGFyZSByZXBsYWNlZCB3aXRoIGAnfjEnYC5cclxuICAjXHJcbiAgIyBAcGFyYW0ge3N0cmluZ30gc2VnbWVudFxyXG4gICMgQHJldHVybnMge3N0cmluZ31cclxuICAjIyNcclxuICBAZXNjYXBlOiAoc2VnbWVudCkgLT5cclxuICAgIHNlZ21lbnQucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJylcclxuXHJcbiAgIyMjXHJcbiAgIyBFc2NhcGVzIHRoZSBnaXZlbiBwYXRoIGZyYWdtZW50IHNlZ21lbnQgYXMgZGVzY3JpYmVkIGJ5IFJGQzY5MDEuXHJcbiAgI1xyXG4gICMgTm90YWJseSwgYCd+J2AncyBhcmUgcmVwbGFjZWQgd2l0aCBgJ34wJ2AgYW5kIGAnLydgJ3MgYXJlIHJlcGxhY2VkIHdpdGggYCd+MSdgIGFuZCBmaW5hbGx5IHRoZSBzdHJpbmcgaXMgVVJJIGVuY29kZWQuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHtzdHJpbmd9IHNlZ21lbnRcclxuICAjIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgIyMjXHJcbiAgQGVzY2FwZUZyYWdtZW50OiAoc2VnbWVudCkgLT5cclxuICAgIGVuY29kZVVSSUNvbXBvbmVudChKc29uUG9pbnRlci5lc2NhcGUoc2VnbWVudCkpXHJcblxyXG4gICMjI1xyXG4gICMgVW4tRXNjYXBlcyB0aGUgZ2l2ZW4gcGF0aCBzZWdtZW50LCByZXZlcnNpbmcgdGhlIGFjdGlvbnMgb2YgYC5lc2NhcGVgLlxyXG4gICNcclxuICAjIE5vdGFibHksIGAnfjEnYCdzIGFyZSByZXBsYWNlZCB3aXRoIGAnLydgIGFuZCBgJ34wJ2AncyBhcmUgcmVwbGFjZWQgd2l0aCBgJ34nYC5cclxuICAjXHJcbiAgIyBAcGFyYW0ge3N0cmluZ30gc2VnbWVudFxyXG4gICMgQHJldHVybnMge3N0cmluZ31cclxuICAjIyNcclxuICBAdW5lc2NhcGU6IChzZWdtZW50KSAtPlxyXG4gICAgc2VnbWVudC5yZXBsYWNlKC9+MS9nLCAnLycpLnJlcGxhY2UoL34wL2csICd+JylcclxuXHJcbiAgIyMjXHJcbiAgIyBVbi1Fc2NhcGVzIHRoZSBnaXZlbiBwYXRoIGZyYWdtZW50IHNlZ21lbnQsIHJldmVyc2luZyB0aGUgYWN0aW9ucyBvZiBgLmVzY2FwZUZyYWdtZW50YC5cclxuICAjXHJcbiAgIyBOb3RhYmx5LCB0aGUgc3RyaW5nIGlzIFVSSSBkZWNvZGVkIGFuZCB0aGVuIGAnfjEnYCdzIGFyZSByZXBsYWNlZCB3aXRoIGAnLydgIGFuZCBgJ34wJ2AncyBhcmUgcmVwbGFjZWQgd2l0aCBgJ34nYC5cclxuICAjXHJcbiAgIyBAcGFyYW0ge3N0cmluZ30gc2VnbWVudFxyXG4gICMgQHJldHVybnMge3N0cmluZ31cclxuICAjIyNcclxuICBAdW5lc2NhcGVGcmFnbWVudDogKHNlZ21lbnQpIC0+XHJcbiAgICBKc29uUG9pbnRlci51bmVzY2FwZShkZWNvZGVVUklDb21wb25lbnQoc2VnbWVudCkpXHJcblxyXG4gICMjI1xyXG4gICMgUmV0dXJucyB0cnVlIGlmZiBgc3RyYCBpcyBhIHZhbGlkIGpzb24gcG9pbnRlciB2YWx1ZVxyXG4gICNcclxuICAjIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICAjIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICMjI1xyXG4gIEBpc1BvaW50ZXI6IChzdHIpIC0+XHJcbiAgICBzd2l0Y2ggc3RyLmNoYXJBdCgwKVxyXG4gICAgICB3aGVuICcnIHRoZW4gcmV0dXJuIHRydWVcclxuICAgICAgd2hlbiAnLycgdGhlbiByZXR1cm4gdHJ1ZVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcblxyXG4gICMjI1xyXG4gICMgUmV0dXJucyB0cnVlIGlmZiBgc3RyYCBpcyBhIHZhbGlkIGpzb24gZnJhZ21lbnQgcG9pbnRlciB2YWx1ZVxyXG4gICNcclxuICAjIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICAjIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICMjI1xyXG4gIEBpc0ZyYWdtZW50OiAoc3RyKSAtPlxyXG4gICAgc3dpdGNoIHN0ci5zdWJzdHJpbmcoMCwgMilcclxuICAgICAgd2hlbiAnIycgdGhlbiByZXR1cm4gdHJ1ZVxyXG4gICAgICB3aGVuICcjLycgdGhlbiByZXR1cm4gdHJ1ZVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcblxyXG4gICMjI1xyXG4gICMgUGFyc2VzIGEganNvbi1wb2ludGVyIG9yIGpzb24gZnJhZ21lbnQgcG9pbnRlciwgYXMgZGVzY3JpYmVkIGJ5IFJGQzkwMSwgaW50byBhbiBhcnJheSBvZiBwYXRoIHNlZ21lbnRzLlxyXG4gICNcclxuICAjIEB0aHJvd3Mge0pzb25Qb2ludGVyRXJyb3J9IGZvciBpbnZhbGlkIGpzb24tcG9pbnRlcnMuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gICMgQHJldHVybnMge3N0cmluZ1tdfVxyXG4gICMjI1xyXG4gIEBwYXJzZTogKHN0cikgLT5cclxuICAgIHN3aXRjaCBzdHIuY2hhckF0KDApXHJcbiAgICAgIHdoZW4gJycgdGhlbiByZXR1cm4gW11cclxuICAgICAgd2hlbiAnLycgdGhlbiByZXR1cm4gc3RyLnN1YnN0cmluZygxKS5zcGxpdCgnLycpLm1hcChKc29uUG9pbnRlci51bmVzY2FwZSlcclxuICAgICAgd2hlbiAnIydcclxuICAgICAgICBzd2l0Y2ggc3RyLmNoYXJBdCgxKVxyXG4gICAgICAgICAgd2hlbiAnJyB0aGVuIHJldHVybiBbXVxyXG4gICAgICAgICAgd2hlbiAnLycgdGhlbiByZXR1cm4gc3RyLnN1YnN0cmluZygyKS5zcGxpdCgnLycpLm1hcChKc29uUG9pbnRlci51bmVzY2FwZUZyYWdtZW50KVxyXG4gICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSnNvblBvaW50ZXJFcnJvcihcIkludmFsaWQgSlNPTiBmcmFnbWVudCBwb2ludGVyOiAje3N0cn1cIilcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHRocm93IG5ldyBKc29uUG9pbnRlckVycm9yKFwiSW52YWxpZCBKU09OIHBvaW50ZXI6ICN7c3RyfVwiKVxyXG5cclxuICAjIyNcclxuICAjIFBhcnNlcyBhIGpzb24tcG9pbnRlciwgYXMgZGVzY3JpYmVkIGJ5IFJGQzkwMSwgaW50byBhbiBhcnJheSBvZiBwYXRoIHNlZ21lbnRzLlxyXG4gICNcclxuICAjIEB0aHJvd3Mge0pzb25Qb2ludGVyRXJyb3J9IGZvciBpbnZhbGlkIGpzb24tcG9pbnRlcnMuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gICMgQHJldHVybnMge3N0cmluZ1tdfVxyXG4gICMjI1xyXG4gIEBwYXJzZVBvaW50ZXI6IChzdHIpIC0+XHJcbiAgICBzd2l0Y2ggc3RyLmNoYXJBdCgwKVxyXG4gICAgICB3aGVuICcnIHRoZW4gcmV0dXJuIFtdXHJcbiAgICAgIHdoZW4gJy8nIHRoZW4gcmV0dXJuIHN0ci5zdWJzdHJpbmcoMSkuc3BsaXQoJy8nKS5tYXAoSnNvblBvaW50ZXIudW5lc2NhcGUpXHJcbiAgICAgIGVsc2UgdGhyb3cgbmV3IEpzb25Qb2ludGVyRXJyb3IoXCJJbnZhbGlkIEpTT04gcG9pbnRlcjogI3tzdHJ9XCIpXHJcblxyXG4gICMjI1xyXG4gICMgUGFyc2VzIGEganNvbiBmcmFnbWVudCBwb2ludGVyLCBhcyBkZXNjcmliZWQgYnkgUkZDOTAxLCBpbnRvIGFuIGFycmF5IG9mIHBhdGggc2VnbWVudHMuXHJcbiAgI1xyXG4gICMgQHRocm93cyB7SnNvblBvaW50ZXJFcnJvcn0gZm9yIGludmFsaWQganNvbi1wb2ludGVycy5cclxuICAjXHJcbiAgIyBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAgIyBAcmV0dXJucyB7c3RyaW5nW119XHJcbiAgIyMjXHJcbiAgQHBhcnNlRnJhZ21lbnQ6IChzdHIpIC0+XHJcbiAgICBzd2l0Y2ggc3RyLnN1YnN0cmluZygwLCAyKVxyXG4gICAgICB3aGVuICcjJyB0aGVuIHJldHVybiBbXVxyXG4gICAgICB3aGVuICcjLycgdGhlbiByZXR1cm4gc3RyLnN1YnN0cmluZygyKS5zcGxpdCgnLycpLm1hcChKc29uUG9pbnRlci51bmVzY2FwZUZyYWdtZW50KVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGhyb3cgbmV3IEpzb25Qb2ludGVyRXJyb3IoXCJJbnZhbGlkIEpTT04gZnJhZ21lbnQgcG9pbnRlcjogI3tzdHJ9XCIpXHJcblxyXG4gICMjI1xyXG4gICMgQ29udmVydHMgYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cyBpbnRvIGEganNvbiBwb2ludGVyLlxyXG4gICMgVGhpcyBtZXRob2QgaXMgdGhlIHJldmVyc2Ugb2YgYC5wYXJzZVBvaW50ZXJgLlxyXG4gICNcclxuICAjIEBwYXJhbSB7c3RyaW5nW119IHNlZ21lbnRzXHJcbiAgIyBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICMjI1xyXG4gIEBjb21waWxlOiAoc2VnbWVudHMpIC0+XHJcbiAgICBzZWdtZW50cy5tYXAoKHNlZ21lbnQpIC0+ICcvJyArIEpzb25Qb2ludGVyLmVzY2FwZShzZWdtZW50KSkuam9pbignJylcclxuXHJcbiAgIyMjXHJcbiAgIyBDb252ZXJ0cyBhbiBhcnJheSBvZiBwYXRoIHNlZ21lbnRzIGludG8gYSBqc29uIHBvaW50ZXIuXHJcbiAgIyBUaGlzIG1ldGhvZCBpcyB0aGUgcmV2ZXJzZSBvZiBgLnBhcnNlUG9pbnRlcmAuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHtzdHJpbmdbXX0gc2VnbWVudHNcclxuICAjIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgIyMjXHJcbiAgQGNvbXBpbGVQb2ludGVyOiAoc2VnbWVudHMpIC0+XHJcbiAgICBzZWdtZW50cy5tYXAoKHNlZ21lbnQpIC0+ICcvJyArIEpzb25Qb2ludGVyLmVzY2FwZShzZWdtZW50KSkuam9pbignJylcclxuXHJcbiAgIyMjXHJcbiAgIyBDb252ZXJ0cyBhbiBhcnJheSBvZiBwYXRoIHNlZ21lbnRzIGludG8gYSBqc29uIGZyYWdtZW50IHBvaW50ZXIuXHJcbiAgIyBUaGlzIG1ldGhvZCBpcyB0aGUgcmV2ZXJzZSBvZiBgLnBhcnNlRnJhZ21lbnRgLlxyXG4gICNcclxuICAjIEBwYXJhbSB7c3RyaW5nW119IHNlZ21lbnRzXHJcbiAgIyBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICMjI1xyXG4gIEBjb21waWxlRnJhZ21lbnQ6IChzZWdtZW50cykgLT5cclxuICAgICcjJyArIHNlZ21lbnRzLm1hcCgoc2VnbWVudCkgLT4gJy8nICsgSnNvblBvaW50ZXIuZXNjYXBlRnJhZ21lbnQoc2VnbWVudCkpLmpvaW4oJycpXHJcblxyXG4gICMjI1xyXG4gICMgQ2FsbGJhY2sgdXNlZCB0byBkZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gcHJvcGVydHkuXHJcbiAgI1xyXG4gICMgQGNhbGxiYWNrIGhhc1Byb3BcclxuICAjIEBwYXJhbSB7Kn0gb2JqXHJcbiAgIyBAcGFyYW0ge3N0cmluZ3xpbnRlZ2VyfSBrZXlcclxuICAjIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICMjI1xyXG5cclxuICAjIyNcclxuICAjIFJldHVybnMgdHJ1ZSBpZmYgYG9iamAgY29udGFpbnMgYGtleWAgYW5kIGBvYmpgIGlzIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QuXHJcbiAgIyBJZ25vcmVzIHRoZSBwcm90b3R5cGUgY2hhaW4uXHJcbiAgI1xyXG4gICMgRGVmYXVsdCB2YWx1ZSBmb3IgYG9wdGlvbnMuaGFzUHJvcGAuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHsqfSBvYmpcclxuICAjIEBwYXJhbSB7c3RyaW5nfGludGVnZXJ9IGtleVxyXG4gICMgQHJldHVybnMge0Jvb2xlYW59XHJcbiAgIyMjXHJcbiAgQGhhc0pzb25Qcm9wOiAob2JqLCBrZXkpIC0+XHJcbiAgICBpZiBBcnJheS5pc0FycmF5KG9iailcclxuICAgICAgcmV0dXJuICh0eXBlb2Yga2V5ID09ICdudW1iZXInKSBhbmQgKGtleSA8IG9iai5sZW5ndGgpXHJcbiAgICBlbHNlIGlmIHR5cGVvZiBvYmogPT0gJ29iamVjdCdcclxuICAgICAgcmV0dXJuIHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpXHJcbiAgICBlbHNlXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG5cclxuICAjIyNcclxuICAjIFJldHVybnMgdHJ1ZSBpZmYgYG9iamAgY29udGFpbnMgYGtleWAsIGRpc3JlZ2FyZGluZyB0aGUgcHJvdG90eXBlIGNoYWluLlxyXG4gICNcclxuICAjIEBwYXJhbSB7Kn0gb2JqXHJcbiAgIyBAcGFyYW0ge3N0cmluZ3xpbnRlZ2VyfSBrZXlcclxuICAjIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICMjI1xyXG4gIEBoYXNPd25Qcm9wOiAob2JqLCBrZXkpIC0+XHJcbiAgICB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KVxyXG5cclxuICAjIyNcclxuICAjIFJldHVybnMgdHJ1ZSBpZmYgYG9iamAgY29udGFpbnMgYGtleWAsIGluY2x1ZGluZyB2aWEgdGhlIHByb3RvdHlwZSBjaGFpbi5cclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0ga2V5XHJcbiAgIyBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAjIyNcclxuICBAaGFzUHJvcDogKG9iaiwga2V5KSAtPlxyXG4gICAga2V5IG9mIG9ialxyXG5cclxuICAjIyNcclxuICAjIENhbGxiYWNrIHVzZWQgdG8gcmV0cmlldmUgYSBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxyXG4gICNcclxuICAjIEBjYWxsYmFjayBnZXRQcm9wXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0ga2V5XHJcbiAgIyBAcmV0dXJucyB7Kn1cclxuICAjIyNcclxuXHJcbiAgIyMjXHJcbiAgIyBGaW5kcyB0aGUgZ2l2ZW4gYGtleWAgaW4gYG9iamAuXHJcbiAgI1xyXG4gICMgRGVmYXVsdCB2YWx1ZSBmb3IgYG9wdGlvbnMuZ2V0UHJvcGAuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHsqfSBvYmpcclxuICAjIEBwYXJhbSB7c3RyaW5nfGludGVnZXJ9IGtleVxyXG4gICMgQHJldHVybnMgeyp9XHJcbiAgIyMjXHJcbiAgQGdldFByb3A6IChvYmosIGtleSkgLT5cclxuICAgIG9ialtrZXldXHJcblxyXG4gICMjI1xyXG4gICMgQ2FsbGJhY2sgdXNlZCB0byBzZXQgYSBwcm9wZXJ0eSBvbiBhbiBvYmplY3QuXHJcbiAgI1xyXG4gICMgQGNhbGxiYWNrIHNldFByb3BcclxuICAjIEBwYXJhbSB7Kn0gb2JqXHJcbiAgIyBAcGFyYW0ge3N0cmluZ3xpbnRlZ2VyfSBrZXlcclxuICAjIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAjIEByZXR1cm5zIHsqfVxyXG4gICMjI1xyXG5cclxuICAjIyNcclxuICAjIFNldHMgdGhlIGdpdmVuIGBrZXlgIGluIGBvYmpgIHRvIGB2YWx1ZWAuXHJcbiAgI1xyXG4gICMgRGVmYXVsdCB2YWx1ZSBmb3IgYG9wdGlvbnMuc2V0UHJvcGAuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHsqfSBvYmpcclxuICAjIEBwYXJhbSB7c3RyaW5nfGludGVnZXJ9IGtleVxyXG4gICMgQHBhcmFtIHsqfSB2YWx1ZVxyXG4gICMgQHJldHVybnMgeyp9IGB2YWx1ZWBcclxuICAjIyNcclxuICBAc2V0UHJvcDogKG9iaiwga2V5LCB2YWx1ZSkgLT5cclxuICAgIG9ialtrZXldID0gdmFsdWVcclxuXHJcbiAgIyMjXHJcbiAgIyBDYWxsYmFjayB1c2VkIHRvIG1vZGlmeSBiZWhhdmlvdXIgd2hlbiBhIGdpdmVuIHBhdGggc2VnbWVudCBjYW5ub3QgYmUgZm91bmQuXHJcbiAgI1xyXG4gICMgQGNhbGxiYWNrIG5vdEZvdW5kXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0ga2V5XHJcbiAgIyBAcmV0dXJucyB7Kn1cclxuICAjIyNcclxuXHJcbiAgIyMjXHJcbiAgIyBSZXR1cm5zIHRoZSB2YWx1ZSB0byB1c2Ugd2hlbiBgLmdldGAgZmFpbHMgdG8gbG9jYXRlIGEgcG9pbnRlciBzZWdtZW50LlxyXG4gICNcclxuICAjIERlZmF1bHQgdmFsdWUgZm9yIGBvcHRpb25zLmdldE5vdEZvdW5kYC5cclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0gc2VnbWVudFxyXG4gICMgQHBhcmFtIHsqfSByb290XHJcbiAgIyBAcGFyYW0ge3N0cmluZ1tdfSBzZWdtZW50c1xyXG4gICMgQHBhcmFtIHtpbnRlZ2VyfSBpU2VnbWVudFxyXG4gICMgQHJldHVybnMge3VuZGVmaW5lZH1cclxuICAjIyNcclxuICBAZ2V0Tm90Rm91bmQ6IChvYmosIHNlZ21lbnQsIHJvb3QsIHNlZ21lbnRzLCBpU2VnbWVudCkgLT5cclxuICAgIHVuZGVmaW5lZFxyXG5cclxuICAjIyNcclxuICAjIFJldHVybnMgdGhlIHZhbHVlIHRvIHVzZSB3aGVuIGAuc2V0YCBmYWlscyB0byBsb2NhdGUgYSBwb2ludGVyIHNlZ21lbnQuXHJcbiAgI1xyXG4gICMgRGVmYXVsdCB2YWx1ZSBmb3IgYG9wdGlvbnMuc2V0Tm90Rm91bmRgLlxyXG4gICNcclxuICAjIEBwYXJhbSB7Kn0gb2JqXHJcbiAgIyBAcGFyYW0ge3N0cmluZ3xpbnRlZ2VyfSBzZWdtZW50XHJcbiAgIyBAcGFyYW0geyp9IHJvb3RcclxuICAjIEBwYXJhbSB7c3RyaW5nW119IHNlZ21lbnRzXHJcbiAgIyBAcGFyYW0ge2ludGVnZXJ9IGlTZWdtZW50XHJcbiAgIyBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gICMjI1xyXG4gIEBzZXROb3RGb3VuZDogKG9iaiwgc2VnbWVudCwgcm9vdCwgc2VnbWVudHMsIGlTZWdtZW50KSAtPlxyXG4gICAgaWYgc2VnbWVudHNbaVNlZ21lbnQgKyAxXS5tYXRjaCgvXig/OjB8WzEtOV1cXGQqfC0pJC8pXHJcbiAgICAgIHJldHVybiBvYmpbc2VnbWVudF0gPSBbXVxyXG4gICAgZWxzZVxyXG4gICAgICByZXR1cm4gb2JqW3NlZ21lbnRdID0ge31cclxuXHJcbiAgIyMjXHJcbiAgIyBQZXJmb3JtcyBhbiBhY3Rpb24gd2hlbiBgLmRlbGAgZmFpbHMgdG8gbG9jYXRlIGEgcG9pbnRlciBzZWdtZW50LlxyXG4gICNcclxuICAjIERlZmF1bHQgdmFsdWUgZm9yIGBvcHRpb25zLmRlbE5vdEZvdW5kYC5cclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0gc2VnbWVudFxyXG4gICMgQHBhcmFtIHsqfSByb290XHJcbiAgIyBAcGFyYW0ge3N0cmluZ1tdfSBzZWdtZW50c1xyXG4gICMgQHBhcmFtIHtpbnRlZ2VyfSBpU2VnbWVudFxyXG4gICMgQHJldHVybnMge3VuZGVmaW5lZH1cclxuICAjIyNcclxuICBAZGVsTm90Rm91bmQ6IChvYmosIHNlZ21lbnQsIHJvb3QsIHNlZ21lbnRzLCBpU2VnbWVudCkgLT5cclxuICAgIHVuZGVmaW5lZFxyXG5cclxuICAjIyNcclxuICAjIFJhaXNlcyBhIEpzb25Qb2ludGVyRXJyb3Igd2hlbiB0aGUgZ2l2ZW4gcG9pbnRlciBzZWdtZW50IGlzIG5vdCBmb3VuZC5cclxuICAjXHJcbiAgIyBNYXkgYmUgdXNlZCBpbiBwbGFjZSBvZiB0aGUgYWJvdmUgbWV0aG9kcyB2aWEgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiBgLi8uZ2V0Ly5zZXQvLmhhcy8uZGVsLy5zaW1wbGVCaW5kYC5cclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8aW50ZWdlcn0gc2VnbWVudFxyXG4gICMgQHBhcmFtIHsqfSByb290XHJcbiAgIyBAcGFyYW0ge3N0cmluZ1tdfSBzZWdtZW50c1xyXG4gICMgQHBhcmFtIHtpbnRlZ2VyfSBpU2VnbWVudFxyXG4gICMgQHJldHVybnMge3VuZGVmaW5lZH1cclxuICAjIyNcclxuICBAZXJyb3JOb3RGb3VuZDogKG9iaiwgc2VnbWVudCwgcm9vdCwgc2VnbWVudHMsIGlTZWdtZW50KSAtPlxyXG4gICAgdGhyb3cgbmV3IEpzb25Qb2ludGVyRXJyb3IoXCJVbmFibGUgdG8gZmluZCBqc29uIHBhdGg6ICN7SnNvblBvaW50ZXIuY29tcGlsZShzZWdtZW50cy5zbGljZSgwLCBpU2VnbWVudCsxKSl9XCIpXHJcblxyXG4gICMjI1xyXG4gICMgU2V0cyB0aGUgbG9jYXRpb24gaW4gYG9iamVjdGAsIHNwZWNpZmllZCBieSBgcG9pbnRlcmAsIHRvIGB2YWx1ZWAuXHJcbiAgIyBJZiBgcG9pbnRlcmAgcmVmZXJzIHRvIHRoZSB3aG9sZSBkb2N1bWVudCwgYHZhbHVlYCBpcyByZXR1cm5lZCB3aXRob3V0IG1vZGlmeWluZyBgb2JqZWN0YCxcclxuICAjIG90aGVyd2lzZSwgYG9iamVjdGAgbW9kaWZpZWQgYW5kIHJldHVybmVkLlxyXG4gICNcclxuICAjIEJ5IGRlZmF1bHQsIGlmIGFueSBsb2NhdGlvbiBzcGVjaWZpZWQgYnkgYHBvaW50ZXJgIGRvZXMgbm90IGV4aXN0LCB0aGUgbG9jYXRpb24gaXMgY3JlYXRlZCB1c2luZyBvYmplY3RzIGFuZCBhcnJheXMuXHJcbiAgIyBBcnJheXMgYXJlIHVzZWQgb25seSB3aGVuIHRoZSBpbW1lZGlhdGVseSBmb2xsb3dpbmcgcGF0aCBzZWdtZW50IGlzIGFuIGFycmF5IGVsZW1lbnQgYXMgZGVmaW5lZCBieSB0aGUgc3RhbmRhcmQuXHJcbiAgI1xyXG4gICMgQHBhcmFtIHsqfSBvYmpcclxuICAjIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBwb2ludGVyXHJcbiAgIyBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICMgQHBhcmFtIHtoYXNQcm9wfSBvcHRpb25zLmhhc1Byb3BcclxuICAjIEBwYXJhbSB7Z2V0UHJvcH0gb3B0aW9ucy5nZXRQcm9wXHJcbiAgIyBAcGFyYW0ge3NldFByb3B9IG9wdGlvbnMuc2V0UHJvcFxyXG4gICMgQHBhcmFtIHtub3RGb3VuZH0gb3B0aW9ucy5nZXROb3RGb3VuZFxyXG4gICMgQHJldHVybnMgeyp9XHJcbiAgIyMjXHJcbiAgQHNldDogKG9iaiwgcG9pbnRlciwgdmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICBpZiB0eXBlb2YgcG9pbnRlciA9PSAnc3RyaW5nJ1xyXG4gICAgICBwb2ludGVyID0gSnNvblBvaW50ZXIucGFyc2UocG9pbnRlcilcclxuXHJcbiAgICBpZiBwb2ludGVyLmxlbmd0aCA9PSAwXHJcbiAgICAgIHJldHVybiB2YWx1ZVxyXG5cclxuICAgIGhhc1Byb3AgPSBvcHRpb25zPy5oYXNQcm9wID8gSnNvblBvaW50ZXIuaGFzSnNvblByb3BcclxuICAgIGdldFByb3AgPSBvcHRpb25zPy5nZXRQcm9wID8gSnNvblBvaW50ZXIuZ2V0UHJvcFxyXG4gICAgc2V0UHJvcCA9IG9wdGlvbnM/LnNldFByb3AgPyBKc29uUG9pbnRlci5zZXRQcm9wXHJcbiAgICBzZXROb3RGb3VuZCA9IG9wdGlvbnM/LnNldE5vdEZvdW5kID8gSnNvblBvaW50ZXIuc2V0Tm90Rm91bmRcclxuXHJcbiAgICByb290ID0gb2JqXHJcbiAgICBpU2VnbWVudCA9IDBcclxuICAgIGxlbiA9IHBvaW50ZXIubGVuZ3RoXHJcblxyXG4gICAgd2hpbGUgaVNlZ21lbnQgIT0gbGVuXHJcbiAgICAgIHNlZ21lbnQgPSBwb2ludGVyW2lTZWdtZW50XVxyXG4gICAgICArK2lTZWdtZW50XHJcblxyXG4gICAgICBpZiBzZWdtZW50ID09ICctJyBhbmQgQXJyYXkuaXNBcnJheShvYmopXHJcbiAgICAgICAgc2VnbWVudCA9IG9iai5sZW5ndGhcclxuICAgICAgZWxzZSBpZiBzZWdtZW50Lm1hdGNoKC9eKD86MHxbMS05XVxcZCopJC8pIGFuZCBBcnJheS5pc0FycmF5KG9iailcclxuICAgICAgICBzZWdtZW50ID0gcGFyc2VJbnQoc2VnbWVudCwgMTApXHJcblxyXG4gICAgICBpZiBpU2VnbWVudCA9PSBsZW5cclxuICAgICAgICBzZXRQcm9wKG9iaiwgc2VnbWVudCwgdmFsdWUpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgZWxzZSBpZiBub3QgaGFzUHJvcChvYmosIHNlZ21lbnQpXHJcbiAgICAgICAgb2JqID0gc2V0Tm90Rm91bmQob2JqLCBzZWdtZW50LCByb290LCBwb2ludGVyLCBpU2VnbWVudCAtIDEpXHJcbiAgICAgIGVsc2VcclxuICAgICAgICBvYmogPSBnZXRQcm9wKG9iaiwgc2VnbWVudClcclxuXHJcbiAgICByZXR1cm4gcm9vdFxyXG5cclxuICAjIyNcclxuICAjIEZpbmRzIHRoZSB2YWx1ZSBpbiBgb2JqYCBhcyBzcGVjaWZpZWQgYnkgYHBvaW50ZXJgXHJcbiAgI1xyXG4gICMgQnkgZGVmYXVsdCwgcmV0dXJucyB1bmRlZmluZWQgZm9yIHZhbHVlcyB3aGljaCBjYW5ub3QgYmUgZm91bmRcclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHBvaW50ZXJcclxuICAjIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgIyBAcGFyYW0ge2hhc1Byb3B9IG9wdGlvbnMuaGFzUHJvcFxyXG4gICMgQHBhcmFtIHtnZXRQcm9wfSBvcHRpb25zLmdldFByb3BcclxuICAjIEBwYXJhbSB7bm90Rm91bmR9IG9wdGlvbnMuZ2V0Tm90Rm91bmRcclxuICAjIEByZXR1cm5zIHsqfVxyXG4gICMjI1xyXG4gIEBnZXQ6IChvYmosIHBvaW50ZXIsIG9wdGlvbnMpIC0+XHJcbiAgICBpZiB0eXBlb2YgcG9pbnRlciA9PSAnc3RyaW5nJ1xyXG4gICAgICBwb2ludGVyID0gSnNvblBvaW50ZXIucGFyc2UocG9pbnRlcilcclxuXHJcbiAgICBoYXNQcm9wID0gb3B0aW9ucz8uaGFzUHJvcCA/IEpzb25Qb2ludGVyLmhhc0pzb25Qcm9wXHJcbiAgICBnZXRQcm9wID0gb3B0aW9ucz8uZ2V0UHJvcCA/IEpzb25Qb2ludGVyLmdldFByb3BcclxuICAgIGdldE5vdEZvdW5kID0gb3B0aW9ucz8uZ2V0Tm90Rm91bmQgPyBKc29uUG9pbnRlci5nZXROb3RGb3VuZFxyXG5cclxuICAgIHJvb3QgPSBvYmpcclxuICAgIGlTZWdtZW50ID0gMFxyXG4gICAgbGVuID0gcG9pbnRlci5sZW5ndGhcclxuICAgIHdoaWxlIGlTZWdtZW50ICE9IGxlblxyXG4gICAgICBzZWdtZW50ID0gcG9pbnRlcltpU2VnbWVudF1cclxuICAgICAgKytpU2VnbWVudFxyXG5cclxuICAgICAgaWYgc2VnbWVudCA9PSAnLScgYW5kIEFycmF5LmlzQXJyYXkob2JqKVxyXG4gICAgICAgIHNlZ21lbnQgPSBvYmoubGVuZ3RoXHJcbiAgICAgIGVsc2UgaWYgc2VnbWVudC5tYXRjaCgvXig/OjB8WzEtOV1cXGQqKSQvKSBhbmQgQXJyYXkuaXNBcnJheShvYmopXHJcbiAgICAgICAgc2VnbWVudCA9IHBhcnNlSW50KHNlZ21lbnQsIDEwKVxyXG5cclxuICAgICAgaWYgbm90IGhhc1Byb3Aob2JqLCBzZWdtZW50KVxyXG4gICAgICAgIHJldHVybiBnZXROb3RGb3VuZChvYmosIHNlZ21lbnQsIHJvb3QsIHBvaW50ZXIsIGlTZWdtZW50IC0gMSlcclxuICAgICAgZWxzZVxyXG4gICAgICAgIG9iaiA9IGdldFByb3Aob2JqLCBzZWdtZW50KVxyXG5cclxuICAgIHJldHVybiBvYmpcclxuXHJcbiAgIyMjXHJcbiAgIyBSZW1vdmVzIHRoZSBsb2NhdGlvbiwgc3BlY2lmaWVkIGJ5IGBwb2ludGVyYCwgZnJvbSBgb2JqZWN0YC5cclxuICAjIFJldHVybnMgdGhlIG1vZGlmaWVkIGBvYmplY3RgLCBvciB1bmRlZmluZWQgaWYgdGhlIGBwb2ludGVyYCBpcyBlbXB0eS5cclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHBvaW50ZXJcclxuICAjIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgIyBAcGFyYW0ge2hhc1Byb3B9IG9wdGlvbnMuaGFzUHJvcFxyXG4gICMgQHBhcmFtIHtnZXRQcm9wfSBvcHRpb25zLmdldFByb3BcclxuICAjIEBwYXJhbSB7bm90Rm91bmR9IG9wdGlvbnMuZGVsTm90Rm91bmRcclxuICAjIEByZXR1cm5zIHsqfVxyXG4gICMjI1xyXG4gIEBkZWw6IChvYmosIHBvaW50ZXIsIG9wdGlvbnMpIC0+XHJcbiAgICBpZiB0eXBlb2YgcG9pbnRlciA9PSAnc3RyaW5nJ1xyXG4gICAgICBwb2ludGVyID0gSnNvblBvaW50ZXIucGFyc2UocG9pbnRlcilcclxuXHJcbiAgICBpZiBwb2ludGVyLmxlbmd0aCA9PSAwXHJcbiAgICAgIHJldHVybiB1bmRlZmluZWRcclxuXHJcbiAgICBoYXNQcm9wID0gb3B0aW9ucz8uaGFzUHJvcCA/IEpzb25Qb2ludGVyLmhhc0pzb25Qcm9wXHJcbiAgICBnZXRQcm9wID0gb3B0aW9ucz8uZ2V0UHJvcCA/IEpzb25Qb2ludGVyLmdldFByb3BcclxuICAgIGRlbE5vdEZvdW5kID0gb3B0aW9ucz8uZGVsTm90Rm91bmQgPyBKc29uUG9pbnRlci5kZWxOb3RGb3VuZFxyXG5cclxuICAgIHJvb3QgPSBvYmpcclxuICAgIGlTZWdtZW50ID0gMFxyXG4gICAgbGVuID0gcG9pbnRlci5sZW5ndGhcclxuICAgIHdoaWxlIGlTZWdtZW50ICE9IGxlblxyXG4gICAgICBzZWdtZW50ID0gcG9pbnRlcltpU2VnbWVudF1cclxuICAgICAgKytpU2VnbWVudFxyXG5cclxuICAgICAgaWYgc2VnbWVudCA9PSAnLScgYW5kIEFycmF5LmlzQXJyYXkob2JqKVxyXG4gICAgICAgIHNlZ21lbnQgPSBvYmoubGVuZ3RoXHJcbiAgICAgIGVsc2UgaWYgc2VnbWVudC5tYXRjaCgvXig/OjB8WzEtOV1cXGQqKSQvKSBhbmQgQXJyYXkuaXNBcnJheShvYmopXHJcbiAgICAgICAgc2VnbWVudCA9IHBhcnNlSW50KHNlZ21lbnQsIDEwKVxyXG5cclxuICAgICAgaWYgbm90IGhhc1Byb3Aob2JqLCBzZWdtZW50KVxyXG4gICAgICAgIGRlbE5vdEZvdW5kKG9iaiwgc2VnbWVudCwgcm9vdCwgcG9pbnRlciwgaVNlZ21lbnQgLSAxKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGVsc2UgaWYgaVNlZ21lbnQgPT0gbGVuXHJcbiAgICAgICAgZGVsZXRlIG9ialtzZWdtZW50XVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGVsc2VcclxuICAgICAgICBvYmogPSBnZXRQcm9wKG9iaiwgc2VnbWVudClcclxuXHJcbiAgICByZXR1cm4gcm9vdFxyXG5cclxuICAjIyNcclxuICAjIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGxvY2F0aW9uLCBzcGVjaWZpZWQgYnkgYHBvaW50ZXJgLCBleGlzdHMgaW4gYG9iamVjdGBcclxuICAjXHJcbiAgIyBAcGFyYW0geyp9IG9ialxyXG4gICMgQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHBvaW50ZXJcclxuICAjIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgIyBAcGFyYW0ge2hhc1Byb3B9IG9wdGlvbnMuaGFzUHJvcFxyXG4gICMgQHBhcmFtIHtnZXRQcm9wfSBvcHRpb25zLmdldFByb3BcclxuICAjIEByZXR1cm5zIHsqfVxyXG4gICMjI1xyXG4gIEBoYXM6IChvYmosIHBvaW50ZXIsIG9wdGlvbnMpIC0+XHJcbiAgICBpZiB0eXBlb2YgcG9pbnRlciA9PSAnc3RyaW5nJ1xyXG4gICAgICBwb2ludGVyID0gSnNvblBvaW50ZXIucGFyc2UocG9pbnRlcilcclxuXHJcbiAgICBoYXNQcm9wID0gb3B0aW9ucz8uaGFzUHJvcCA/IEpzb25Qb2ludGVyLmhhc0pzb25Qcm9wXHJcbiAgICBnZXRQcm9wID0gb3B0aW9ucz8uZ2V0UHJvcCA/IEpzb25Qb2ludGVyLmdldFByb3BcclxuXHJcbiAgICBpU2VnbWVudCA9IDBcclxuICAgIGxlbiA9IHBvaW50ZXIubGVuZ3RoXHJcbiAgICB3aGlsZSBpU2VnbWVudCAhPSBsZW5cclxuICAgICAgc2VnbWVudCA9IHBvaW50ZXJbaVNlZ21lbnRdXHJcbiAgICAgICsraVNlZ21lbnRcclxuXHJcbiAgICAgIGlmIHNlZ21lbnQgPT0gJy0nIGFuZCBBcnJheS5pc0FycmF5KG9iailcclxuICAgICAgICBzZWdtZW50ID0gb2JqLmxlbmd0aFxyXG4gICAgICBlbHNlIGlmIHNlZ21lbnQubWF0Y2goL14oPzowfFsxLTldXFxkKikkLykgYW5kIEFycmF5LmlzQXJyYXkob2JqKVxyXG4gICAgICAgIHNlZ21lbnQgPSBwYXJzZUludChzZWdtZW50LCAxMClcclxuXHJcbiAgICAgIGlmIG5vdCBoYXNQcm9wKG9iaiwgc2VnbWVudClcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuXHJcbiAgICAgIG9iaiA9IGdldFByb3Aob2JqLCBzZWdtZW50KVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==